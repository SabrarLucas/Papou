{% extends 'base.html.twig' %}

{% block title %}Search{% endblock %}

{% block body %}

<div class="product-age-title">
    <h1>Search</h1>
</div>

{% if products|length == 0 %}
    <div class="product-age-content">

        <div class="product-age-left-section">
            {{ form_start(form) }}
                <h2>Categorie</h2>
                {{form_row(form.categories)}}
                <h2>Age</h2>
                {{form_row(form.age)}}
                {{form_row(form.search,{'data': data.search}) }}
                <button type="submit">filter</button>
            {{ form_end(form) }}
        </div>

        <div class="product-age-right-section">
        </div>
    </div>
{% else %}
    
    <div class="product-age-content">

        <div class="product-age-left-section">
            {{ form_start(form) }}
                <h2>Categorie</h2>
                {{form_row(form.categories)}}
                <h2>Age</h2>
                {{form_row(form.age)}}
                <button type="submit">filter</button>
            {{ form_end(form) }}
        </div>

        <div class="product-age-right-section">

            {% for product in products.data %}

            <div class="products-age-carousel">

                <div class="products-age-carousel-container">

                    {% for picture in product.pictures %}    
                        <div class="products-carousel-img">
                            <a href="{{ path('detail' , {'id': product.id}) }}">
                                <div class="products-carousel-img" style="background-image: url('{{picture.picName}}')"></div>
                            </a>
                        </div>
                    {% endfor %}

                </div>
                <img src="{{ asset('images/btn-swipe.png') }}" class="btn-swipe btn-swipe-left"> <!-- faire un bouton qui pointe vers la gauche -->
                <img src="{{ asset('images/btn-swipe.png') }}" class="btn-swipe btn-swipe-right"> <!-- appliquer également le bouton qui pointe vers la gauche -->

                <div class="product-card-detail copperplate">
                    <p>{{product.name}}</p>
                    <p>{{product.price}} €</p>
                </div>

            </div>

            {% endfor %}
        </div>
    </div>
    <div class="flex justify-center mb-20">
        {% include "partials/paginationSearch.html.twig" %}
    </div>
{% endif %}
{% endblock %}
